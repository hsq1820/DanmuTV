# DanmuTV GitHub Actions æ„å»ºå¤±è´¥åˆ†æ - ä»“åº“åœ°å€é—®é¢˜

## ğŸ“Š é—®é¢˜åˆ†æ

### ç¬¬äºŒæ¬¡æ„å»ºå¤±è´¥(2025-10-08 12:22)

è™½ç„¶ `GH_TOKEN` å·²æ­£ç¡®ä¼ é€’,ä½†å‡ºç°äº†æ–°çš„é—®é¢˜:

#### ğŸ”´ Linux æ„å»ºå¤±è´¥
- **æ—¶é—´**: 12:22:55
- **é˜¶æ®µ**: å‘å¸ƒåˆ° GitHub (95% å®Œæˆ)
- **é”™è¯¯**: `404 Not Found`
- **URL**: `https://api.github.com/repos/YourUsername/DanmuTV/releases`
- **æ ¹æœ¬åŸå› **: package.json ä¸­ repository.url é…ç½®é”™è¯¯
  ```json
  "repository": {
    "type": "git",
    "url": "https://github.com/YourUsername/DanmuTV.git"  // âŒ é”™è¯¯
  }
  ```
  
  åº”è¯¥æ˜¯:
  ```json
  "repository": {
    "type": "git",
    "url": "https://github.com/hsq1820/DanmuTV.git"  // âœ… æ­£ç¡®
  }
  ```

#### æ„å»ºè¿›åº¦è¯¦æƒ…

**Linux (ubuntu-latest)**:
- âœ… Next.js ç¼–è¯‘æˆåŠŸ (12:22:01 - 12:22:32, 31ç§’)
- âœ… Electron æ‰“åŒ…æˆåŠŸ (12:22:33 - 12:22:42, 9ç§’)
- âœ… AppImage ç”ŸæˆæˆåŠŸ (12:22:42 - 12:22:55, 13ç§’)
  - æ–‡ä»¶: `DanmuTV-1.0.0.AppImage`
- âŒ å‘å¸ƒå¤±è´¥ (12:22:55)
  - åŸå› : ä»“åº“åœ°å€é”™è¯¯,404 Not Found

**macOS (macos-latest)**:
- âœ… Next.js ç¼–è¯‘æˆåŠŸ (12:22:05 - 12:22:26, 21ç§’)
- âœ… x64 DMG ç”ŸæˆæˆåŠŸ (12:22:37 - 12:23:03, 26ç§’)
  - æ–‡ä»¶: `DanmuTV-1.0.0.dmg`
  - Blockmap: `DanmuTV-1.0.0.dmg.blockmap`
- âœ… arm64 DMG ç”ŸæˆæˆåŠŸ (12:22:44 - 12:23:04, 20ç§’)
  - æ–‡ä»¶: `DanmuTV-1.0.0-arm64.dmg`
- âŒ ä¸Šä¼ è¢«å–æ¶ˆ (12:23:09)
  - åŸå› : Linux æ„å»ºå¤±è´¥å¯¼è‡´æ•´ä¸ªå·¥ä½œæµå–æ¶ˆ

**Windows (windows-latest)**:
- âœ… Next.js ç¼–è¯‘ä¸­ (12:22:34 - 12:22:57, 23ç§’)
- âŒ è¢«å–æ¶ˆ (12:22:57)
  - åŸå› : Linux æ„å»ºå¤±è´¥å¯¼è‡´å–æ¶ˆ

## ğŸ”§ è§£å†³æ–¹æ¡ˆ

### ä¿®å¤æ­¥éª¤

1. **æ›´æ–° package.json**:
   ```json
   "repository": {
     "type": "git",
     "url": "https://github.com/hsq1820/DanmuTV.git"
   },
   "homepage": "https://github.com/hsq1820/DanmuTV#readme"
   ```

2. **æäº¤ä¿®å¤**:
   ```bash
   git add package.json
   git commit -m "fix: ä¿®æ­£ä»“åº“åœ°å€é…ç½®"
   git push origin master
   ```

3. **é‡æ–°è§¦å‘æ„å»º**:
   ```bash
   git tag -d v1.0.0
   git push origin :refs/tags/v1.0.0
   git tag v1.0.0
   git push origin v1.0.0
   ```

## ğŸ¯ é¢„æœŸç»“æœ

ä¿®å¤å,electron-builder å°†æ­£ç¡®è®¿é—®:
- âœ… `https://api.github.com/repos/hsq1820/DanmuTV/releases`
- âœ… æˆåŠŸåˆ›å»º GitHub Release
- âœ… æˆåŠŸä¸Šä¼ æ‰€æœ‰æ„å»ºäº§ç‰©

### é¢„æœŸç”Ÿæˆæ–‡ä»¶

**Windows**:
- `DanmuTV Setup 1.0.0.exe` (~135 MB, NSIS å®‰è£…åŒ…)
- `DanmuTV 1.0.0.exe` (~135 MB, ä¾¿æºç‰ˆå•æ–‡ä»¶)
- `latest.yml` (æ›´æ–°æ£€æŸ¥é…ç½®)

**macOS**:
- `DanmuTV-1.0.0.dmg` (Intel Mac, ~120 MB)
- `DanmuTV-1.0.0.dmg.blockmap`
- `DanmuTV-1.0.0-arm64.dmg` (M1/M2/M3 Mac, ~115 MB)
- `DanmuTV-1.0.0-arm64.dmg.blockmap`
- `latest-mac.yml` (æ›´æ–°æ£€æŸ¥é…ç½®)

**Linux**:
- `DanmuTV-1.0.0.AppImage` (~160 MB)
- `latest-linux.yml` (æ›´æ–°æ£€æŸ¥é…ç½®)

## â±ï¸ æ„å»ºæ—¶é—´ä¼°ç®—

åŸºäºç¬¬äºŒæ¬¡æ„å»ºè¿›åº¦:
- Linux: ~55ç§’ (Next.js 31s + Electron 9s + AppImage 13s + å‘å¸ƒ 2s)
- macOS: ~70ç§’ (Next.js 21s + x64 DMG 26s + arm64 DMG 20s + ä¸Šä¼  3s)
- Windows: ~60ç§’ (Next.js 25s + NSIS 20s + Portable 10s + ä¸Šä¼  5s)

**æ€»é¢„è®¡æ—¶é—´**: ~70ç§’ (å¹¶è¡Œæ‰§è¡Œ,å–æœ€é•¿)

## ğŸ“ æ€»ç»“

### ç¬¬ä¸€æ¬¡å¤±è´¥åŸå› 
- âŒ ç¼ºå°‘ `GH_TOKEN` ç¯å¢ƒå˜é‡

### ç¬¬äºŒæ¬¡å¤±è´¥åŸå› 
- âŒ ä»“åº“åœ°å€é…ç½®é”™è¯¯ (`YourUsername` â†’ `hsq1820`)

### ç¬¬ä¸‰æ¬¡ä¿®å¤
- âœ… ä¿®æ­£ repository.url
- âœ… ä¿®æ­£ homepage
- âœ… é‡æ–°æ¨é€ tag

æ„å»ºè¿›åº¦: https://github.com/hsq1820/DanmuTV/actions
